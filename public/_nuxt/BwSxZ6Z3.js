import{_ as w}from"./DbRmwbl4.js";import{_ as N,a as T,b as A,c as M,d as V,e as F,f as H}from"./Bk-8HdKD.js";import{_ as R,a as z}from"./LXi238kQ.js";import{d as E,a as G,u as S,r,o as j,t as i,v as l,x as _,z as t,A as s,B as m,D as e,G as q,y as I}from"./CE95Wurm.js";import{u as J}from"./C5GjP6W8.js";import"./xG5u76J_.js";import"./CCxNnwLh.js";import"./BGzDuTtR.js";import"./DkIjAwkr.js";const K={class:"p-6"},L={class:"flex gap-2 mb-4"},P={key:0,class:"text-center"},Q={key:1,class:"text-red-500 text-center"},W={key:2},ro=E({__name:"index",setup(X){const{$useApi:x}=G(),v=S();J({title:"Заказы"});const p=r([]),c=r(!0),d=r(null),n=r(!1),u=async()=>{try{const{data:a}=await x.get("/orders/");p.value=a}catch(a){d.value=a.message}finally{c.value=!1}};return j(u),(a,o)=>{const f=w,D=N,$=T,y=A,U=M,k=R,O=V,b=F,B=H,C=z;return i(),l("div",K,[o[7]||(o[7]=_("h1",{class:"text-2xl font-bold mb-4"},"Заказы",-1)),_("div",L,[t(f,{onClick:o[0]||(o[0]=g=>e(v).push("/")),class:"h-8 w-8"},{default:s(()=>o[3]||(o[3]=[m(" < ")])),_:1}),t(B,{open:e(n),"onUpdate:open":o[2]||(o[2]=g=>q(n)?n.value=g:null)},{default:s(()=>[t(D,{"as-child":""},{default:s(()=>[t(f,{class:"h-8 w-8"},{default:s(()=>o[4]||(o[4]=[m(" + ")])),_:1})]),_:1}),t(b,null,{default:s(()=>[t(U,null,{default:s(()=>[t($,null,{default:s(()=>o[5]||(o[5]=[m("Создать заказ")])),_:1}),t(y)]),_:1}),t(k,{onOrderCreated:o[1]||(o[1]=()=>{u(),n.value=!1})}),t(O)]),_:1})]),_:1},8,["open"])]),e(c)?(i(),l("div",P,o[6]||(o[6]=[_("p",null,"Загрузка...",-1)]))):e(d)?(i(),l("div",Q,[_("p",null,"Ошибка загрузки: "+I(e(d)),1)])):(i(),l("div",W,[t(C,{orders:e(p)},null,8,["orders"])]))])}}});export{ro as default};
