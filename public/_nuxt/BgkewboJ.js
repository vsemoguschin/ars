import{d as x,ah as H,aw as A,ax as K,h as c,a as O,r as N,ag as R,ay as j,u as B,O as S,az as T,aA as v,aB as _,aC as I,aD as C,aE as L,aF as w,R as E,H as F,aG as V,aH as q,aI as z,t as D,v as G,x as J,z as M}from"./CE95Wurm.js";const Q=x({props:{vnode:{type:Object,required:!0},route:{type:Object,required:!0},vnodeRef:Object,renderKey:String,trackRootNodes:Boolean},setup(e){const o=e.renderKey,t=e.route,r={};for(const a in e.route)Object.defineProperty(r,a,{get:()=>o===e.renderKey?e.route[a]:t[a],enumerable:!0});return H(K,A(r)),()=>c(e.vnode,{ref:e.vnodeRef})}}),U=x({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(e,{attrs:o,slots:t,expose:r}){const a=O(),i=N(),d=R(K,null);let l;r({pageRef:i});const u=R(j,null);let s;const g=a.deferHydration();if(a.isHydrating){const n=a.hooks.hookOnce("app:error",g);B().beforeEach(n)}return e.pageKey&&S(()=>e.pageKey,(n,m)=>{n!==m&&a.callHook("page:loading:start")}),()=>c(T,{name:e.name,route:e.route,...o},{default:n=>{const m=X(d,n.route,n.Component),h=d&&d.matched.length===n.route.matched.length;if(!n.Component){if(s&&!h)return s;g();return}if(s&&u&&!u.isCurrent(n.route))return s;if(m&&d&&(!u||u!=null&&u.isCurrent(d)))return h?s:null;const f=v(n,e.pageKey);!a.isHydrating&&!Y(d,n.route,n.Component)&&l===f&&a.callHook("page:loading:end"),l=f;const y=!!(e.transition??n.route.meta.pageTransition??_),b=y&&W([e.transition,n.route.meta.pageTransition,_,{onAfterLeave:()=>{a.callHook("page:transition:finish",n.Component)}}].filter(Boolean)),p=e.keepalive??n.route.meta.keepalive??I;return s=C(V,y&&b,L(p,c(w,{suspensible:!0,onPending:()=>a.callHook("page:start",n.Component),onResolve:()=>{E(()=>a.callHook("page:finish",n.Component).then(()=>a.callHook("page:loading:end")).finally(g))}},{default:()=>{const k=c(Q,{key:f||void 0,vnode:t.default?c(F,void 0,t.default(n)):n.Component,route:n.route,renderKey:f||void 0,trackRootNodes:y,vnodeRef:i});return p&&(k.type.name=n.Component.type.name||n.Component.type.__name||"RouteProvider"),k}}))).default(),s}})}});function W(e){const o=e.map(t=>({...t,onAfterLeave:t.onAfterLeave?q(t.onAfterLeave):void 0}));return z(...o)}function X(e,o,t){if(!e)return!1;const r=o.matched.findIndex(a=>{var i;return((i=a.components)==null?void 0:i.default)===(t==null?void 0:t.type)});return!r||r===-1?!1:o.matched.slice(0,r).some((a,i)=>{var d,l,u;return((d=a.components)==null?void 0:d.default)!==((u=(l=e.matched[i])==null?void 0:l.components)==null?void 0:u.default)})||t&&v({route:o,Component:t})!==v({route:e,Component:t})}function Y(e,o,t){return e?o.matched.findIndex(a=>{var i;return((i=a.components)==null?void 0:i.default)===(t==null?void 0:t.type)})<o.matched.length-1:!1}const $={__name:"default",setup(e){return(o,t)=>{const r=U;return D(),G("div",null,[J("main",null,[M(r)])])}}};export{$ as default};
